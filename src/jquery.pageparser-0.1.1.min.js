/* 
 * AjaxPageParser jQuery Plugin
 * Made by Erik Terwan
 * 5 February 2015
 * 
 * This plugin is provided as-is and released under the terms of the MIT license.
 */
!function(t){t.fn.pageParser=function(e){function r(){return a.each(function(e){var r=t(this);t(this).attr("data-ppid",e+1),t(this).on(n.trigger,function(t){return i(r),t.preventDefault(),!1})}),t(window).on("popstate",function(){history.state&&t("*[data-ppid="+history.state.id+"]").length>0&&i(t("*[data-ppid="+history.state.id+"]"),!0)}),a}function i(e,r){n.before.call(e);var i=e.attr(n.urlAttribute),a=i,l=e.attr("data-ppid");null!=n.parseElement&&(a+=" "+n.parseElement),t(n.container).load(a,function(t,s,o){if("success"==s){var u=t.split("title>");u=u[1].split("</");var c=u[0];if(n.dynamicUrl&&1!=r){var f={name:a,page:c,id:l};history.pushState(f,c,i)}n.setTitle&&(document.title=c),n.finished.call(e)}else"error"==s&&n.error.call(o.status)})}var n=t.extend({container:null,dynamicUrl:!0,parseElement:null,setTitle:!0,trigger:"click",urlAttribute:"href",before:function(){},finished:function(){},error:function(){}},e),a=this;return r()}}(jQuery);